#!/bin/bash

# set the account to be used for the job
#SBATCH --account=free

# set name of job
#SBATCH --job-name=fjm30
#SBATCH --output=fjm30.out
#SBATCH --error=fjm30.err

# set the number of nodes
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1

# batch-acc partition contains all the accelerator nodes
#SBATCH --partition=batch-acc

# requesting NVIDIA k20x nodes with 1 card
#SBATCH --constraint=k20x
#SBATCH --gpu:1

# set max wallclock time
#SBATCH --time=00:01:00

# mail alert at start, end and abortion of execution
#SBATCH --mail-type=END

# send mail to this address
#SBATCH --mail-user=fjm30@bath.ac.uk

# load modules
module load python/3.4.2
module load tensorflow/1.2.1
module load tensorflow-gpu/1.3.0

# run the application
python -m main
